{
  "nodes": [
    {
      "id": "layer-1",
      "label": "Development & CI/CD",
      "subtitle": "Source Code → Security → Build → Deploy",
      "icon": "/icons/onprem/vcs/github.png",
      "type": "container",
      "layout": "row"
    },
    {
      "id": "layer-2",
      "label": "Policy & Governance",
      "subtitle": "Automated Security & Compliance",
      "icon": "/icons/elastic/agent/agent.png",
      "type": "container",
      "layout": "row",
      "position": {
        "relativeTo": "layer-1",
        "side": "below"
      }
    },
    {
      "id": "layer-3",
      "label": "AWS Infrastructure",
      "subtitle": "Zero Trust Network & Compute",
      "icon": "/icons/aws/aws.png",
      "type": "container",
      "layout": "row",
      "position": {
        "relativeTo": "layer-2",
        "side": "below"
      }
    },
    {
      "id": "layer-4",
      "label": "Running Applications",
      "subtitle": "Banking Services & Management",
      "icon": "/icons/aws/compute/fargate.png",
      "type": "container",
      "layout": "row",
      "position": {
        "relativeTo": "layer-3",
        "side": "below"
      }
    },
    {
      "id": "github-simple",
      "label": "GitHub Repository",
      "subtitle": "Code + GitOps Manifests",
      "icon": "/icons/onprem/vcs/github.png",
      "parentNode": "layer-1",
      "order": 1
    },
    {
      "id": "actions-simple",
      "label": "GitHub Actions",
      "subtitle": "Secure Build Pipeline",
      "icon": "/icons/onprem/ci/github-actions.png",
      "parentNode": "layer-1",
      "order": 2
    },
    {
      "id": "terraform-simple",
      "label": "Terraform",
      "subtitle": "Declarative Infrastructure",
      "icon": "/icons/onprem/iac/terraform.png",
      "parentNode": "layer-1",
      "order": 3
    },
    {
      "id": "opa-simple",
      "label": "Policy Engine",
      "subtitle": "OPA + Conftest Validation",
      "icon": "/icons/elastic/agent/agent.png",
      "parentNode": "layer-2",
      "order": 1
    },
    {
      "id": "config-simple",
      "label": "AWS Config",
      "subtitle": "Resource Change Detection",
      "icon": "/icons/aws/management/config.png",
      "parentNode": "layer-2",
      "order": 2
    },
    {
      "id": "eventbridge-simple",
      "label": "EventBridge",
      "subtitle": "Automated Event Processing",
      "icon": "/icons/aws/integration/eventbridge.png",
      "parentNode": "layer-2",
      "order": 3
    },
    {
      "id": "vpc-simple",
      "label": "Private Network",
      "subtitle": "No Internet Gateway",
      "icon": "/icons/aws/network/vpc.png",
      "parentNode": "layer-3",
      "order": 1
    },
    {
      "id": "lattice-simple",
      "label": "Service Mesh",
      "subtitle": "IAM-Authenticated Communication",
      "icon": "/icons/aws/network/vpc.png",
      "parentNode": "layer-3",
      "order": 2
    },
    {
      "id": "eks-simple",
      "label": "Kubernetes",
      "subtitle": "Fargate Serverless Pods",
      "icon": "/icons/aws/compute/elastic-kubernetes-service.png",
      "parentNode": "layer-3",
      "order": 3
    },
    {
      "id": "banking-simple",
      "label": "Banking Apps",
      "subtitle": "Go Microservices",
      "icon": "/icons/aws/compute/fargate.png",
      "parentNode": "layer-4",
      "order": 1
    },
    {
      "id": "argocd-simple",
      "label": "GitOps Engine",
      "subtitle": "Continuous Deployment",
      "icon": "/icons/onprem/gitops/argocd.png",
      "parentNode": "layer-4",
      "order": 2
    },
    {
      "id": "monitoring-simple",
      "label": "Observability",
      "subtitle": "Prometheus + Grafana + CloudWatch",
      "icon": "/icons/onprem/monitoring/prometheus.png",
      "parentNode": "layer-4",
      "order": 3
    }
  ],
  "edges": [
    {
      "id": "dev-flow",
      "source": "github-simple",
      "target": "actions-simple",
      "label": "code push",
      "color": "green",
      "style": "solid"
    },
    {
      "id": "iac-flow",
      "source": "terraform-simple",
      "target": "vpc-simple",
      "label": "infrastructure",
      "color": "blue",
      "style": "solid"
    },
    {
      "id": "policy-flow",
      "source": "opa-simple",
      "target": "actions-simple",
      "label": "security gates",
      "color": "red",
      "style": "solid"
    },
    {
      "id": "compliance-flow",
      "source": "config-simple",
      "target": "eventbridge-simple",
      "label": "auto-remediate",
      "color": "red",
      "style": "solid"
    },
    {
      "id": "deploy-flow",
      "source": "actions-simple",
      "target": "argocd-simple",
      "label": "GitOps sync",
      "color": "purple",
      "style": "dotted"
    },
    {
      "id": "runtime-flow",
      "source": "argocd-simple",
      "target": "banking-simple",
      "label": "deploy services",
      "color": "purple",
      "style": "dotted"
    },
    {
      "id": "network-flow",
      "source": "lattice-simple",
      "target": "banking-simple",
      "label": "secure communication",
      "color": "purple",
      "style": "dotted"
    },
    {
      "id": "compute-flow",
      "source": "eks-simple",
      "target": "banking-simple",
      "label": "serverless runtime",
      "color": "purple",
      "style": "dotted"
    },
    {
      "id": "observability-flow",
      "source": "banking-simple",
      "target": "monitoring-simple",
      "label": "metrics & logs",
      "color": "yellow",
      "style": "dashed"
    }
  ],
  "name": "Imladris Platform - Simplified Overview"
}